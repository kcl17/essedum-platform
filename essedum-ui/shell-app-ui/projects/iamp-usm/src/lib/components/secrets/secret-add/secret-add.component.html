<div class="lfx-u-pad-t-8">
    <div class="lfx-l-level2-middle-col">
        <div class="d-flex justify-content-between align-items-center">
            <div class="align-items-center d-flex" *ngIf="!edit && !view">
                <h2 class="header-title">Create Secret</h2>
            </div>
            <div class="align-items-center d-flex" *ngIf="edit">
                <h2 class="header-title">Edit Secret</h2>
            </div>
            <div class="align-items-center d-flex" *ngIf="view">
                <h2 class="header-title">View Secret</h2>
            </div>

            <div class="d-flex justify-content-end">
                <button type="button" class="btn-close" aria-label="Close" (click)="closeSecretAddDialog()">
                    <i class="icon x-16 close-icon"></i>
                </button>
            </div>
        </div>
        <mat-card>
            <div class="lfx-u-pad-t-32 lfx-u-pad-r-24 p-20">
                <div class="row">
                    <div class="col-lg-12 col-md-12 lfx-u-mar-b-16">
                        <div>
                            <mat-form-field appearance="fill" style="width: 90%" floatLabel="always">
                                <mat-label class="mat-style-label">Key</mat-label>
                                <input matInput class="ml-4" [disabled]="edit || view" placeholder="Enter Key..."
                                    [(ngModel)]="key" required />
                                <mat-error class="ml-4" *ngIf="!key">This field is required</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 lfx-u-mar-b-16">
                        <mat-form-field appearance="fill" style="width: 90%" floatLabel="always">
                            <mat-label class="mat-style-label">Passcode</mat-label>
                            <input class="ml-4" matInput [disabled]="view" placeholder="Enter Passcode..."
                                [type]="hidePassword ? 'password' : 'text'" [(ngModel)]="passcode" required />
                            <mat-icon matSuffix (click)="togglePasswordVisibility()" style="
                  cursor: pointer;
                  position: absolute;
                  right: -5px;
                  margin-top: 8px;
                  transform: translateY(-50%);
                ">
                                {{ hidePassword ? "visibility" : "visibility_off" }}
                            </mat-icon>

                            <mat-error class="ml-4" *ngIf="!passcode">This field is required</mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <hr />
            <div class="d-flex lfx-u-mar-b-16 ml-24" *ngIf="!view">
                <button *ngIf="!edit" mat-raised-button [disabled]="!passcode|| !key" (click)="onCreate()"
                    class="save-btn">
                      {{ isSubmitting ? 'Saving...' : 'Save Secret' }}
                </button>
                <button *ngIf="edit" mat-raised-button [disabled]="!passcode|| !key" (click)="onUpdate()"
                    class="save-btn">
                    Update Secret
                </button>           
                <button class="lfx-u-pad-r-16" mat-raised-button (click)="clearWave()" class="cancel-btn">
                    {{ clearLabel }}
                </button>
            </div>
        </mat-card>
    </div>
</div>